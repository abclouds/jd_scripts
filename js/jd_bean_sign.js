/*
 * @Author: abclouds https://github.com/abclouds
 */
/*
京东多合一签到,自用,可N个京东账号
活动入口：各处的签到汇总
Node.JS专用
IOS软件用户请使用 https://raw.githubusercontent.com/abclouds/jd-scripts/master/js/jd_bean_sign_all.js
JD_DailyBonus.js
更新时间：2021-05-16
推送通知默认简洁模式(多账号只发送一次)。如需详细通知，设置环境变量 JD_BEAN_SIGN_NOTIFY_SIMPLE 为false即可(N账号推送N次通知)。

 */

const _0xd1f5=['getjson','1541382KxFOnP','JD_DEBUG','JD_BEAN_SIGN_NOTIFY_SIMPLE','exports','fetch','exit','TENCENTCLOUD_RUNENV','29907AMgYxc','execPath','writeFileSync','msg','open-url','763076SvINwp','stack','timeout','toString','https://gitee.com/abclouds/jd_scripts/raw/master/js/jd_bean_sign_all.js','env','var\x20stop\x20=\x20\x27','ckjar','getMonth','jd_bean_sign_all.js文件下载完毕\x0a\x0a','】:\x20','1NExUgy','TG_PROXY_HOST','got','keep-alive','redirect','readFileSync','getDate','abs','nickName','dataFile','trim','813034QGuylr','reduce','execSync','setval','京东服务器返回空数据','\x0ajd_bean_sign_all.js\x20文件不存在，停止执行','cron','lodash_set','writedata','/v1/scripting/evaluate','sendNotify','initGotEnv','getScript','*****************开始京东账号','getFullYear','tunnel','2shuSfw','runScript','parse','child_process','setdata','UserName','【签到概览】','1802548ycBUUV','match','forEach','slice','time','log','getMilliseconds','.$1','url','map','../sendNotify','existsSync','retcode','isMuteLog','media-url','zh-cn','headers','jd_bean_sign_all.js文件jsdelivr\x20CDN缓存刷新成功','1nerwYl','catch','getTimezoneOffset','length','17ruTlKW','JD_BEAN_STOP','https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','false','isLoon','httpsOverHttp','wait','floor','SCF','setValueForKey','mediaUrl','index','Content-Type','box.dat','substr','\x20API请求失败，请检查网路重试','string','base','BARK_PUSH','京豆签到*******************\x0a','isNeedRewrite','exec','👇👇👇👇👇👇👇👇👇👇👇LOG记录👇👇👇👇👇👇👇👇👇👇👇\x0a','getdata','object','get','setjson','logs','done','substring','cktough','\x20>>\x20','==============📣系统通知📣==============','Content-Length','concat','\x20-\x20','京东签到写入文件异常:','split','stringify','set-cookie',',\x20结束!\x20🕛\x20','检测到您当前网络环境不能访问外网,将使用jsdelivr\x20CDN下载jd_bean_sign_all.js文件','test','toStr','setCookieSync','POST','logSeparator','isQuanX','loaddata','name','1820832zjtgGf','https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','isNode','getval','utf8','logErr','getMinutes','cwd','application/json,text/plain,\x20*/*','post','lodash_get','replace','statusCode','assign','body','https://bean.m.jd.com/bean/signIndex.action','data','USER_AGENT','isMute','1SqZThD','undefined','toObj','JD_BEAN_SIGN_STOP_NOTIFY','http','getHours','call','isLogin','京东多合一签到','indexOf','download','true','替换变量完毕','84080bPLmhI','@chavy_boxjs_userCfgs.httpapi_timeout','tough-cookie','getTime','../jdCookie.js','opts','Cookie','/tmp/jd_bean_sign_all.js',',\x20错误!','path','isSurge','const\x20NodeSet\x20=\x20\x27','TG_PROXY_PORT','\x0a【签到时间】:\x20\x20','resolve','write','JDUA','【签到号\x20','send','openUrl','beanSignTime','finally','join','cookieJar','@chavy_boxjs_userCfgs.httpapi','JD_USER_AGENT','then','status','application/x-www-form-urlencoded','startTime','push'];const _0x19e943=_0x2a2f;(function(_0x285a13,_0x276f4d){const _0x43710c=_0x2a2f;while(!![]){try{const _0x57174c=-parseInt(_0x43710c(0x209))*-parseInt(_0x43710c(0x1d3))+parseInt(_0x43710c(0x188))+-parseInt(_0x43710c(0x1d7))*parseInt(_0x43710c(0x229))+-parseInt(_0x43710c(0x19f))*parseInt(_0x43710c(0x194))+parseInt(_0x43710c(0x1aa))*parseInt(_0x43710c(0x1ba))+-parseInt(_0x43710c(0x1c1))+parseInt(_0x43710c(0x18f))*-parseInt(_0x43710c(0x21c));if(_0x57174c===_0x276f4d)break;else _0x285a13['push'](_0x285a13['shift']());}catch(_0x4a060d){_0x285a13['push'](_0x285a13['shift']());}}}(_0xd1f5,0xeb33f));const $=new Env(_0x19e943(0x224)),notify=$['isNode']()?require(_0x19e943(0x1cb)):'',jdCookieNode=$[_0x19e943(0x20b)]()?require(_0x19e943(0x22d)):'',exec=require(_0x19e943(0x1bd))[_0x19e943(0x1ac)],fs=require('fs'),download=require(_0x19e943(0x226));let resultPath='./result.txt',JD_DailyBonusPath='./jd_bean_sign_all.js',outPutUrl='./',NodeSet='CookieSet.json',cookiesArr=[],cookie='',allMessage='';if($[_0x19e943(0x20b)]()){Object['keys'](jdCookieNode)[_0x19e943(0x1c3)](_0x506088=>{const _0x285179=_0x19e943;cookiesArr[_0x285179(0x186)](jdCookieNode[_0x506088]);});if(process[_0x19e943(0x199)][_0x19e943(0x189)]&&process[_0x19e943(0x199)][_0x19e943(0x189)]===_0x19e943(0x1da))console[_0x19e943(0x1c6)]=()=>{};}!(async()=>{const _0x247c65=_0x19e943;if(!cookiesArr[0x0]){$[_0x247c65(0x192)]($['name'],'【提示】请先获取cookie\x0a直接使用NobyDa的京东签到获取',_0x247c65(0x218),{'open-url':_0x247c65(0x218)});return;}process[_0x247c65(0x199)][_0x247c65(0x18a)]=process['env'][_0x247c65(0x18a)]?process['env'][_0x247c65(0x18a)]:'true',await requireConfig(),await downFile();if(!await fs[_0x247c65(0x1cc)](JD_DailyBonusPath)){console['log'](_0x247c65(0x1af)+$['name']+'\x0a'),await notify[_0x247c65(0x1b4)]($[_0x247c65(0x208)],'本次执行'+$[_0x247c65(0x208)]+'失败，jd_bean_sign_all.js\x20文件下载异常，详情请查看日志');return;}const _0x490485=await fs[_0x247c65(0x1a4)](JD_DailyBonusPath,_0x247c65(0x20d));for(let _0x21eb83=0x0;_0x21eb83<cookiesArr['length'];_0x21eb83++){cookie=cookiesArr[_0x21eb83],cookie&&($['UserName']=decodeURIComponent(cookie[_0x247c65(0x1c2)](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x247c65(0x1c2)](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[_0x247c65(0x1e2)]=_0x21eb83+0x1,$[_0x247c65(0x1a7)]='',await TotalBean(),console['log'](_0x247c65(0x1b7)+$[_0x247c65(0x1e2)]+'\x20'+($['nickName']||$[_0x247c65(0x1bf)])+_0x247c65(0x1ea)),await changeFile(_0x490485),await execSign());}await deleteFile(JD_DailyBonusPath),$[_0x247c65(0x20b)]()&&allMessage&&process[_0x247c65(0x199)][_0x247c65(0x18a)]===_0x247c65(0x227)&&await notify[_0x247c65(0x1b4)](''+$[_0x247c65(0x208)],''+allMessage);})()[_0x19e943(0x1d4)](_0x284a95=>$[_0x19e943(0x20e)](_0x284a95))[_0x19e943(0x17d)](()=>$['done']());async function execSign(){const _0x3b3f69=_0x19e943;console[_0x3b3f69(0x1c6)]('\x0a开始执行脚本签到，请稍等');try{await exec(process[_0x3b3f69(0x190)]+'\x20'+JD_DailyBonusPath+_0x3b3f69(0x1f6)+resultPath);const _0x5df456=await fs[_0x3b3f69(0x1a4)](resultPath,'utf8');console['log'](_0x3b3f69(0x1ed)+_0x5df456+'\x0a👆👆👆👆👆👆👆👆👆LOG记录👆👆👆👆👆👆👆👆👆👆👆');let _0x15a2d0='';if(fs[_0x3b3f69(0x1cc)](resultPath)){const _0x317bcf=_0x5df456[_0x3b3f69(0x225)](_0x3b3f69(0x1c0)),_0x1e7d6e=_0x5df456['length'];if(process[_0x3b3f69(0x199)][_0x3b3f69(0x21f)]==='true')return;if(process['env'][_0x3b3f69(0x1e9)]||notify[_0x3b3f69(0x1e9)])process[_0x3b3f69(0x199)][_0x3b3f69(0x18a)]=_0x3b3f69(0x227);process[_0x3b3f69(0x199)][_0x3b3f69(0x18a)]===_0x3b3f69(0x227)?(_0x317bcf>-0x1&&_0x1e7d6e>-0x1&&(_0x15a2d0=_0x5df456[_0x3b3f69(0x1f4)](_0x317bcf,_0x1e7d6e)),_0x15a2d0=_0x15a2d0[_0x3b3f69(0x1fc)]('\x0a\x0a')[0x0]):_0x317bcf>-0x1&&_0x1e7d6e>-0x1&&(_0x15a2d0=_0x5df456[_0x3b3f69(0x1f4)](_0x317bcf,_0x1e7d6e));}const _0x563842=new Date()[_0x3b3f69(0x22c)]()+new Date()[_0x3b3f69(0x1d5)]()*0xea60+0x1b77400;$[_0x3b3f69(0x17c)]=timeFormat(_0x563842),_0x15a2d0&&(allMessage+='【京东号\x20'+$['index']+'】:\x20'+($[_0x3b3f69(0x1a7)]||$[_0x3b3f69(0x1bf)])+_0x3b3f69(0x236)+$['beanSignTime']+'\x0a'+_0x15a2d0+($[_0x3b3f69(0x1e2)]!==cookiesArr[_0x3b3f69(0x1d6)]?'\x0a\x0a':''),(!process[_0x3b3f69(0x199)][_0x3b3f69(0x18a)]||process[_0x3b3f69(0x199)][_0x3b3f69(0x18a)]&&process[_0x3b3f69(0x199)][_0x3b3f69(0x18a)]!=='true')&&await notify[_0x3b3f69(0x1b4)]($[_0x3b3f69(0x208)]+'\x20-\x20账号'+$[_0x3b3f69(0x1e2)]+_0x3b3f69(0x1fa)+($[_0x3b3f69(0x1a7)]||$['UserName']),_0x3b3f69(0x23a)+$[_0x3b3f69(0x1e2)]+_0x3b3f69(0x19e)+($[_0x3b3f69(0x1a7)]||$['UserName'])+_0x3b3f69(0x236)+$['beanSignTime']+'\x0a'+_0x15a2d0)),await deleteFile(resultPath),console[_0x3b3f69(0x1c6)]('\x0a\x0a*****************京东账号'+$[_0x3b3f69(0x1e2)]+'\x20'+($['nickName']||$[_0x3b3f69(0x1bf)])+'京豆签到完成*******************\x0a\x0a');}catch(_0x1b883d){console['log']('京东签到脚本执行异常:'+_0x1b883d);}}async function downFile(){const _0x1451d7=_0x19e943;let _0x58afe9='';await downloadUrl();$[_0x1451d7(0x217)]?_0x58afe9=_0x1451d7(0x198):_0x58afe9=_0x1451d7(0x198);try{const _0x595bff={};if(process[_0x1451d7(0x199)][_0x1451d7(0x1a0)]&&process[_0x1451d7(0x199)]['TG_PROXY_PORT']){const _0x4fa161=require(_0x1451d7(0x1b9)),_0x4077bc={'https':_0x4fa161[_0x1451d7(0x1dc)]({'proxy':{'host':process['env'][_0x1451d7(0x1a0)],'port':process[_0x1451d7(0x199)][_0x1451d7(0x235)]*0x1}})};Object[_0x1451d7(0x216)](_0x595bff,{'agent':_0x4077bc});}await download(_0x58afe9,outPutUrl,_0x595bff),console['log'](_0x1451d7(0x19d));}catch(_0x21e8fd){console['log']('jd_bean_sign_all.js\x20文件下载异常:'+_0x21e8fd);}}async function changeFile(_0x4155eb){const _0x5cba7c=_0x19e943;console[_0x5cba7c(0x1c6)]('开始替换变量');let _0x13330b=_0x4155eb['replace'](/var Key = ''/,'var\x20Key\x20=\x20\x27'+cookie+'\x27');_0x13330b=_0x13330b[_0x5cba7c(0x214)](/const NodeSet = 'CookieSet.json'/,_0x5cba7c(0x234)+NodeSet+'\x27');process[_0x5cba7c(0x199)]['JD_BEAN_STOP']&&process[_0x5cba7c(0x199)][_0x5cba7c(0x1d8)]!=='0'&&(_0x13330b=_0x13330b[_0x5cba7c(0x214)](/var stop = '0'/,_0x5cba7c(0x19a)+process[_0x5cba7c(0x199)][_0x5cba7c(0x1d8)]+'\x27'));const _0x3b0580=new Date()[_0x5cba7c(0x1d5)]();_0x3b0580===0x0&&(_0x13330b=_0x13330b[_0x5cba7c(0x214)](/tm\s=.*/,'tm\x20=\x20new\x20Date(new\x20Date().toLocaleDateString()).getTime()\x20-\x2028800000;'));try{await fs[_0x5cba7c(0x191)](JD_DailyBonusPath,_0x13330b,_0x5cba7c(0x20d)),console[_0x5cba7c(0x1c6)](_0x5cba7c(0x228));}catch(_0x1f186c){console['log'](_0x5cba7c(0x1fb)+_0x1f186c);}}async function deleteFile(_0x39489c){const _0x1af1a0=await fs['existsSync'](_0x39489c);if(_0x1af1a0){const _0xf95167=await fs['unlinkSync'](_0x39489c);}}function TotalBean(){return new Promise(async _0x56aa05=>{const _0xdb7b2c=_0x2a2f,_0x9e9800={'url':_0xdb7b2c(0x20a),'headers':{'Accept':_0xdb7b2c(0x211),'Content-Type':_0xdb7b2c(0x184),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':_0xdb7b2c(0x1d0),'Connection':_0xdb7b2c(0x1a2),'Cookie':cookie,'Referer':_0xdb7b2c(0x1d9),'User-Agent':$[_0xdb7b2c(0x20b)]()?process[_0xdb7b2c(0x199)][_0xdb7b2c(0x181)]?process['env']['JD_USER_AGENT']:require('./USER_AGENTS')[_0xdb7b2c(0x21a)]:$[_0xdb7b2c(0x1ee)](_0xdb7b2c(0x239))?$[_0xdb7b2c(0x1ee)](_0xdb7b2c(0x239)):'jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1'},'timeout':0x2710};$[_0xdb7b2c(0x212)](_0x9e9800,(_0x22c011,_0x359c45,_0x412230)=>{const _0x2ce6d7=_0xdb7b2c;try{if(_0x22c011)console[_0x2ce6d7(0x1c6)](''+JSON[_0x2ce6d7(0x1fd)](_0x22c011)),console[_0x2ce6d7(0x1c6)]($[_0x2ce6d7(0x208)]+_0x2ce6d7(0x1e6));else{if(_0x412230){_0x412230=JSON[_0x2ce6d7(0x1bc)](_0x412230);if(_0x412230['retcode']===0xd){$[_0x2ce6d7(0x223)]=![];return;}_0x412230[_0x2ce6d7(0x1cd)]===0x0?$['nickName']=_0x412230[_0x2ce6d7(0x1e8)]&&_0x412230[_0x2ce6d7(0x1e8)]['nickname']||$['UserName']:$[_0x2ce6d7(0x1a7)]=$['UserName'];}else console[_0x2ce6d7(0x1c6)](_0x2ce6d7(0x1ae));}}catch(_0xe494a6){$['logErr'](_0xe494a6,_0x359c45);}finally{_0x56aa05();}});});}function downloadUrl(_0xde0195=_0x19e943(0x198)){return new Promise(_0x3bcd95=>{const _0x25378b=_0x2a2f,_0x2321a7={'url':_0xde0195,'timeout':0x2710};if($[_0x25378b(0x20b)]()&&process[_0x25378b(0x199)][_0x25378b(0x1a0)]&&process[_0x25378b(0x199)]['TG_PROXY_PORT']){const _0x273f32=require(_0x25378b(0x1b9)),_0x35ecd1={'https':_0x273f32['httpsOverHttp']({'proxy':{'host':process[_0x25378b(0x199)][_0x25378b(0x1a0)],'port':process[_0x25378b(0x199)][_0x25378b(0x235)]*0x1}})};Object['assign'](_0x2321a7,{'agent':_0x35ecd1});}$[_0x25378b(0x1f0)](_0x2321a7,async(_0x15c967,_0x2c43ca,_0x312b0f)=>{const _0x5a80a7=_0x25378b;try{_0x15c967?(console[_0x5a80a7(0x1c6)](_0x5a80a7(0x200)),await $[_0x5a80a7(0x220)][_0x5a80a7(0x1f0)]({'url':'https://gitee.com/abclouds/jd_scripts/raw/master/js/jd_bean_sign_all.js','timeout':0x2710})['then'](_0x5b608d=>{const _0x53531e=_0x5a80a7;_0x5b608d['statusCode']===0xc8&&console[_0x53531e(0x1c6)](_0x53531e(0x1d2));})):$[_0x5a80a7(0x217)]=_0x312b0f;}catch(_0x3d5fc2){$[_0x5a80a7(0x20e)](_0x3d5fc2,_0x2c43ca);}finally{_0x3bcd95();}});});}function _0x2a2f(_0xb3c500,_0xbaa7c9){_0xb3c500=_0xb3c500-0x17b;let _0xd1f542=_0xd1f5[_0xb3c500];return _0xd1f542;}function requireConfig(){return new Promise(_0x712c67=>{const _0x4f7306=_0x2a2f;resultPath=process['env']['TENCENTCLOUD_RUNENV']===_0x4f7306(0x1df)?'/tmp/result.txt':resultPath,JD_DailyBonusPath=process[_0x4f7306(0x199)]['TENCENTCLOUD_RUNENV']==='SCF'?_0x4f7306(0x230):JD_DailyBonusPath,outPutUrl=process[_0x4f7306(0x199)][_0x4f7306(0x18e)]===_0x4f7306(0x1df)?'/tmp/':outPutUrl,NodeSet=process['env']['TENCENTCLOUD_RUNENV']===_0x4f7306(0x1df)?'/tmp/CookieSet.json':NodeSet,_0x712c67();});}function timeFormat(_0x30cb6e){const _0x5cca37=_0x19e943;let _0x51bca5;return _0x30cb6e?_0x51bca5=new Date(_0x30cb6e):_0x51bca5=new Date(),_0x51bca5[_0x5cca37(0x1b8)]()+'-'+(_0x51bca5['getMonth']()+0x1>=0xa?_0x51bca5[_0x5cca37(0x19c)]()+0x1:'0'+(_0x51bca5['getMonth']()+0x1))+'-'+(_0x51bca5['getDate']()>=0xa?_0x51bca5[_0x5cca37(0x1a5)]():'0'+_0x51bca5[_0x5cca37(0x1a5)]());}function Env(_0x13c312,_0x1f2a05){const _0x5380e6=_0x19e943;_0x5380e6(0x21d)!=typeof process&&JSON['stringify'](process[_0x5380e6(0x199)])[_0x5380e6(0x225)]('GITHUB')>-0x1&&process[_0x5380e6(0x18d)](0x0);class _0x5b44a4{constructor(_0x85a349){const _0x17337d=_0x5380e6;this[_0x17337d(0x199)]=_0x85a349;}[_0x5380e6(0x23b)](_0x2ce9ef,_0x141204='GET'){const _0x4a6772=_0x5380e6;_0x2ce9ef=_0x4a6772(0x1e7)==typeof _0x2ce9ef?{'url':_0x2ce9ef}:_0x2ce9ef;let _0x315686=this[_0x4a6772(0x1f0)];return _0x4a6772(0x204)===_0x141204&&(_0x315686=this[_0x4a6772(0x212)]),new Promise((_0x2b7925,_0x427c15)=>{const _0x4ef24f=_0x4a6772;_0x315686[_0x4ef24f(0x222)](this,_0x2ce9ef,(_0x1cbd33,_0x1d3ae9,_0x1949e5)=>{_0x1cbd33?_0x427c15(_0x1cbd33):_0x2b7925(_0x1d3ae9);});});}[_0x5380e6(0x1f0)](_0x42bf6e){const _0x2fa3db=_0x5380e6;return this[_0x2fa3db(0x23b)][_0x2fa3db(0x222)](this[_0x2fa3db(0x199)],_0x42bf6e);}[_0x5380e6(0x212)](_0x3a1aae){const _0x50367f=_0x5380e6;return this['send'][_0x50367f(0x222)](this[_0x50367f(0x199)],_0x3a1aae,_0x50367f(0x204));}}return new class{constructor(_0x3dfb90,_0x4b3dc0){const _0x8a2d21=_0x5380e6;this[_0x8a2d21(0x208)]=_0x3dfb90,this['http']=new _0x5b44a4(this),this[_0x8a2d21(0x219)]=null,this[_0x8a2d21(0x1a8)]=_0x8a2d21(0x1e4),this[_0x8a2d21(0x1f2)]=[],this[_0x8a2d21(0x21b)]=!0x1,this[_0x8a2d21(0x1eb)]=!0x1,this[_0x8a2d21(0x205)]='\x0a',this[_0x8a2d21(0x185)]=new Date()[_0x8a2d21(0x22c)](),Object[_0x8a2d21(0x216)](this,_0x4b3dc0),this[_0x8a2d21(0x1c6)]('','🔔'+this['name']+',\x20开始!');}[_0x5380e6(0x20b)](){const _0x5dde9b=_0x5380e6;return _0x5dde9b(0x21d)!=typeof module&&!!module[_0x5dde9b(0x18b)];}['isQuanX'](){const _0x51fc43=_0x5380e6;return _0x51fc43(0x21d)!=typeof $task;}[_0x5380e6(0x233)](){const _0x3ee15c=_0x5380e6;return _0x3ee15c(0x21d)!=typeof $httpClient&&_0x3ee15c(0x21d)==typeof $loon;}['isLoon'](){const _0x3a46b1=_0x5380e6;return _0x3a46b1(0x21d)!=typeof $loon;}[_0x5380e6(0x21e)](_0x3b1013,_0x468e6f=null){const _0x38f652=_0x5380e6;try{return JSON[_0x38f652(0x1bc)](_0x3b1013);}catch{return _0x468e6f;}}[_0x5380e6(0x202)](_0x5570cc,_0x58b888=null){const _0x4a1581=_0x5380e6;try{return JSON[_0x4a1581(0x1fd)](_0x5570cc);}catch{return _0x58b888;}}[_0x5380e6(0x187)](_0x59dde9,_0x55b9e9){const _0x4dc3f1=_0x5380e6;let _0x3339e3=_0x55b9e9;const _0xa29c31=this[_0x4dc3f1(0x1ee)](_0x59dde9);if(_0xa29c31)try{_0x3339e3=JSON[_0x4dc3f1(0x1bc)](this[_0x4dc3f1(0x1ee)](_0x59dde9));}catch{}return _0x3339e3;}[_0x5380e6(0x1f1)](_0x19aae4,_0x49c871){const _0x44758d=_0x5380e6;try{return this[_0x44758d(0x1be)](JSON[_0x44758d(0x1fd)](_0x19aae4),_0x49c871);}catch{return!0x1;}}[_0x5380e6(0x1b6)](_0x2c0848){return new Promise(_0x8dca34=>{const _0x16a801=_0x2a2f;this[_0x16a801(0x1f0)]({'url':_0x2c0848},(_0x24e530,_0x505fd8,_0x1b0383)=>_0x8dca34(_0x1b0383));});}[_0x5380e6(0x1bb)](_0x4e9996,_0x2e0335){const _0x4adcb4=_0x5380e6;return new Promise(_0x1afa2f=>{const _0x38e75c=_0x2a2f;let _0x596e6c=this[_0x38e75c(0x1ee)](_0x38e75c(0x180));_0x596e6c=_0x596e6c?_0x596e6c[_0x38e75c(0x214)](/\n/g,'')[_0x38e75c(0x1a9)]():_0x596e6c;let _0x3da4a2=this['getdata'](_0x38e75c(0x22a));_0x3da4a2=_0x3da4a2?0x1*_0x3da4a2:0x14,_0x3da4a2=_0x2e0335&&_0x2e0335[_0x38e75c(0x196)]?_0x2e0335[_0x38e75c(0x196)]:_0x3da4a2;const [_0x444e4d,_0x4442cc]=_0x596e6c[_0x38e75c(0x1fc)]('@'),_0x5bb48a={'url':'http://'+_0x4442cc+_0x38e75c(0x1b3),'body':{'script_text':_0x4e9996,'mock_type':_0x38e75c(0x1b0),'timeout':_0x3da4a2},'headers':{'X-Key':_0x444e4d,'Accept':'*/*'}};this[_0x38e75c(0x212)](_0x5bb48a,(_0x3f2432,_0xb9bfce,_0x48c336)=>_0x1afa2f(_0x48c336));})[_0x4adcb4(0x1d4)](_0x5bf831=>this[_0x4adcb4(0x20e)](_0x5bf831));}[_0x5380e6(0x207)](){const _0x57ed8e=_0x5380e6;if(!this[_0x57ed8e(0x20b)]())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this['path']?this[_0x57ed8e(0x232)]:require(_0x57ed8e(0x232));const _0x382fae=this[_0x57ed8e(0x232)][_0x57ed8e(0x237)](this[_0x57ed8e(0x1a8)]),_0x3a59a5=this[_0x57ed8e(0x232)][_0x57ed8e(0x237)](process[_0x57ed8e(0x210)](),this[_0x57ed8e(0x1a8)]),_0x29b7b7=this['fs'][_0x57ed8e(0x1cc)](_0x382fae),_0x2b68e4=!_0x29b7b7&&this['fs'][_0x57ed8e(0x1cc)](_0x3a59a5);if(!_0x29b7b7&&!_0x2b68e4)return{};{const _0x42176e=_0x29b7b7?_0x382fae:_0x3a59a5;try{return JSON[_0x57ed8e(0x1bc)](this['fs'][_0x57ed8e(0x1a4)](_0x42176e));}catch(_0x58240c){return{};}}}}[_0x5380e6(0x1b2)](){const _0x1702d2=_0x5380e6;if(this['isNode']()){this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this[_0x1702d2(0x232)]?this[_0x1702d2(0x232)]:require('path');const _0x47306d=this[_0x1702d2(0x232)][_0x1702d2(0x237)](this[_0x1702d2(0x1a8)]),_0x30001b=this[_0x1702d2(0x232)]['resolve'](process[_0x1702d2(0x210)](),this[_0x1702d2(0x1a8)]),_0x55979a=this['fs'][_0x1702d2(0x1cc)](_0x47306d),_0x50ab9d=!_0x55979a&&this['fs'][_0x1702d2(0x1cc)](_0x30001b),_0x23871f=JSON[_0x1702d2(0x1fd)](this[_0x1702d2(0x219)]);_0x55979a?this['fs'][_0x1702d2(0x191)](_0x47306d,_0x23871f):_0x50ab9d?this['fs'][_0x1702d2(0x191)](_0x30001b,_0x23871f):this['fs'][_0x1702d2(0x191)](_0x47306d,_0x23871f);}}[_0x5380e6(0x213)](_0x21c69d,_0xab0e6b,_0xb5161d){const _0x24e4ab=_0x5380e6,_0xa6929a=_0xab0e6b[_0x24e4ab(0x214)](/\[(\d+)\]/g,_0x24e4ab(0x1c8))[_0x24e4ab(0x1fc)]('.');let _0x2b52b9=_0x21c69d;for(const _0xe2608d of _0xa6929a)if(_0x2b52b9=Object(_0x2b52b9)[_0xe2608d],void 0x0===_0x2b52b9)return _0xb5161d;return _0x2b52b9;}[_0x5380e6(0x1b1)](_0x1f1f5e,_0x251616,_0x11b46a){const _0x32d889=_0x5380e6;return Object(_0x1f1f5e)!==_0x1f1f5e?_0x1f1f5e:(Array['isArray'](_0x251616)||(_0x251616=_0x251616[_0x32d889(0x197)]()[_0x32d889(0x1c2)](/[^.[\]]+/g)||[]),_0x251616[_0x32d889(0x1c4)](0x0,-0x1)[_0x32d889(0x1ab)]((_0x4f7aa9,_0x309961,_0x29c1ba)=>Object(_0x4f7aa9[_0x309961])===_0x4f7aa9[_0x309961]?_0x4f7aa9[_0x309961]:_0x4f7aa9[_0x309961]=Math[_0x32d889(0x1a6)](_0x251616[_0x29c1ba+0x1])>>0x0==+_0x251616[_0x29c1ba+0x1]?[]:{},_0x1f1f5e)[_0x251616[_0x251616['length']-0x1]]=_0x11b46a,_0x1f1f5e);}[_0x5380e6(0x1ee)](_0x3e8fd4){const _0x53ffdb=_0x5380e6;let _0x49b3b8=this[_0x53ffdb(0x20c)](_0x3e8fd4);if(/^@/[_0x53ffdb(0x201)](_0x3e8fd4)){const [,_0x2b514d,_0x50c37a]=/^@(.*?)\.(.*?)$/[_0x53ffdb(0x1ec)](_0x3e8fd4),_0x446c68=_0x2b514d?this['getval'](_0x2b514d):'';if(_0x446c68)try{const _0x519e4d=JSON[_0x53ffdb(0x1bc)](_0x446c68);_0x49b3b8=_0x519e4d?this[_0x53ffdb(0x213)](_0x519e4d,_0x50c37a,''):_0x49b3b8;}catch(_0x5df568){_0x49b3b8='';}}return _0x49b3b8;}['setdata'](_0x59ae18,_0x2a20a6){const _0x7d5da5=_0x5380e6;let _0x15775c=!0x1;if(/^@/[_0x7d5da5(0x201)](_0x2a20a6)){const [,_0x30ae33,_0x3ff264]=/^@(.*?)\.(.*?)$/[_0x7d5da5(0x1ec)](_0x2a20a6),_0x51e8ba=this[_0x7d5da5(0x20c)](_0x30ae33),_0x3636b6=_0x30ae33?'null'===_0x51e8ba?null:_0x51e8ba||'{}':'{}';try{const _0xea0536=JSON['parse'](_0x3636b6);this[_0x7d5da5(0x1b1)](_0xea0536,_0x3ff264,_0x59ae18),_0x15775c=this[_0x7d5da5(0x1ad)](JSON[_0x7d5da5(0x1fd)](_0xea0536),_0x30ae33);}catch(_0x2c29b7){const _0x519506={};this[_0x7d5da5(0x1b1)](_0x519506,_0x3ff264,_0x59ae18),_0x15775c=this[_0x7d5da5(0x1ad)](JSON['stringify'](_0x519506),_0x30ae33);}}else _0x15775c=this[_0x7d5da5(0x1ad)](_0x59ae18,_0x2a20a6);return _0x15775c;}['getval'](_0x1e0fe0){const _0x6c0256=_0x5380e6;return this[_0x6c0256(0x233)]()||this[_0x6c0256(0x1db)]()?$persistentStore['read'](_0x1e0fe0):this[_0x6c0256(0x206)]()?$prefs['valueForKey'](_0x1e0fe0):this['isNode']()?(this['data']=this[_0x6c0256(0x207)](),this[_0x6c0256(0x219)][_0x1e0fe0]):this[_0x6c0256(0x219)]&&this[_0x6c0256(0x219)][_0x1e0fe0]||null;}[_0x5380e6(0x1ad)](_0x5c17db,_0x4bc3b0){const _0x1d7634=_0x5380e6;return this[_0x1d7634(0x233)]()||this[_0x1d7634(0x1db)]()?$persistentStore[_0x1d7634(0x238)](_0x5c17db,_0x4bc3b0):this[_0x1d7634(0x206)]()?$prefs[_0x1d7634(0x1e0)](_0x5c17db,_0x4bc3b0):this[_0x1d7634(0x20b)]()?(this['data']=this[_0x1d7634(0x207)](),this['data'][_0x4bc3b0]=_0x5c17db,this[_0x1d7634(0x1b2)](),!0x0):this[_0x1d7634(0x219)]&&this[_0x1d7634(0x219)][_0x4bc3b0]||null;}['initGotEnv'](_0x4fce33){const _0x16f0ba=_0x5380e6;this['got']=this[_0x16f0ba(0x1a1)]?this['got']:require(_0x16f0ba(0x1a1)),this[_0x16f0ba(0x1f5)]=this[_0x16f0ba(0x1f5)]?this[_0x16f0ba(0x1f5)]:require(_0x16f0ba(0x22b)),this[_0x16f0ba(0x19b)]=this[_0x16f0ba(0x19b)]?this[_0x16f0ba(0x19b)]:new this[(_0x16f0ba(0x1f5))]['CookieJar'](),_0x4fce33&&(_0x4fce33[_0x16f0ba(0x1d1)]=_0x4fce33[_0x16f0ba(0x1d1)]?_0x4fce33[_0x16f0ba(0x1d1)]:{},void 0x0===_0x4fce33[_0x16f0ba(0x1d1)][_0x16f0ba(0x22f)]&&void 0x0===_0x4fce33['cookieJar']&&(_0x4fce33[_0x16f0ba(0x17f)]=this[_0x16f0ba(0x19b)]));}[_0x5380e6(0x1f0)](_0x5409c2,_0x25bb65=()=>{}){const _0x575371=_0x5380e6;_0x5409c2['headers']&&(delete _0x5409c2['headers'][_0x575371(0x1e3)],delete _0x5409c2[_0x575371(0x1d1)][_0x575371(0x1f8)]),this[_0x575371(0x233)]()||this['isLoon']()?(this[_0x575371(0x233)]()&&this[_0x575371(0x1eb)]&&(_0x5409c2[_0x575371(0x1d1)]=_0x5409c2[_0x575371(0x1d1)]||{},Object[_0x575371(0x216)](_0x5409c2[_0x575371(0x1d1)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x575371(0x1f0)](_0x5409c2,(_0x298963,_0x5b9d0b,_0x14591e)=>{const _0x52352c=_0x575371;!_0x298963&&_0x5b9d0b&&(_0x5b9d0b['body']=_0x14591e,_0x5b9d0b['statusCode']=_0x5b9d0b[_0x52352c(0x183)]),_0x25bb65(_0x298963,_0x5b9d0b,_0x14591e);})):this[_0x575371(0x206)]()?(this[_0x575371(0x1eb)]&&(_0x5409c2[_0x575371(0x22e)]=_0x5409c2[_0x575371(0x22e)]||{},Object[_0x575371(0x216)](_0x5409c2[_0x575371(0x22e)],{'hints':!0x1})),$task[_0x575371(0x18c)](_0x5409c2)[_0x575371(0x182)](_0x12f5b9=>{const {statusCode:_0x488206,statusCode:_0x18266b,headers:_0x2035cd,body:_0xd65715}=_0x12f5b9;_0x25bb65(null,{'status':_0x488206,'statusCode':_0x18266b,'headers':_0x2035cd,'body':_0xd65715},_0xd65715);},_0xd1d043=>_0x25bb65(_0xd1d043))):this[_0x575371(0x20b)]()&&(this[_0x575371(0x1b5)](_0x5409c2),this[_0x575371(0x1a1)](_0x5409c2)['on'](_0x575371(0x1a3),(_0x72bea5,_0x455085)=>{const _0x307e0c=_0x575371;try{if(_0x72bea5['headers'][_0x307e0c(0x1fe)]){const _0x42dfd9=_0x72bea5[_0x307e0c(0x1d1)][_0x307e0c(0x1fe)][_0x307e0c(0x1ca)](this[_0x307e0c(0x1f5)][_0x307e0c(0x22f)][_0x307e0c(0x1bc)])[_0x307e0c(0x197)]();_0x42dfd9&&this['ckjar'][_0x307e0c(0x203)](_0x42dfd9,null),_0x455085[_0x307e0c(0x17f)]=this['ckjar'];}}catch(_0x4f6ce1){this[_0x307e0c(0x20e)](_0x4f6ce1);}})[_0x575371(0x182)](_0x2863f8=>{const {statusCode:_0x47fa05,statusCode:_0x49f90b,headers:_0x1f8194,body:_0x43314a}=_0x2863f8;_0x25bb65(null,{'status':_0x47fa05,'statusCode':_0x49f90b,'headers':_0x1f8194,'body':_0x43314a},_0x43314a);},_0x44d7b8=>{const _0x5e0016=_0x575371,{message:_0x2a4edf,response:_0x256249}=_0x44d7b8;_0x25bb65(_0x2a4edf,_0x256249,_0x256249&&_0x256249[_0x5e0016(0x217)]);}));}[_0x5380e6(0x212)](_0x1cad93,_0x1ffb00=()=>{}){const _0x583778=_0x5380e6;if(_0x1cad93['body']&&_0x1cad93['headers']&&!_0x1cad93[_0x583778(0x1d1)]['Content-Type']&&(_0x1cad93[_0x583778(0x1d1)]['Content-Type']=_0x583778(0x184)),_0x1cad93[_0x583778(0x1d1)]&&delete _0x1cad93[_0x583778(0x1d1)][_0x583778(0x1f8)],this[_0x583778(0x233)]()||this[_0x583778(0x1db)]())this[_0x583778(0x233)]()&&this[_0x583778(0x1eb)]&&(_0x1cad93['headers']=_0x1cad93[_0x583778(0x1d1)]||{},Object[_0x583778(0x216)](_0x1cad93[_0x583778(0x1d1)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x583778(0x212)](_0x1cad93,(_0x5118b7,_0x4d2feb,_0x402e77)=>{const _0x270e8a=_0x583778;!_0x5118b7&&_0x4d2feb&&(_0x4d2feb[_0x270e8a(0x217)]=_0x402e77,_0x4d2feb[_0x270e8a(0x215)]=_0x4d2feb[_0x270e8a(0x183)]),_0x1ffb00(_0x5118b7,_0x4d2feb,_0x402e77);});else{if(this[_0x583778(0x206)]())_0x1cad93['method']='POST',this['isNeedRewrite']&&(_0x1cad93[_0x583778(0x22e)]=_0x1cad93[_0x583778(0x22e)]||{},Object[_0x583778(0x216)](_0x1cad93[_0x583778(0x22e)],{'hints':!0x1})),$task[_0x583778(0x18c)](_0x1cad93)[_0x583778(0x182)](_0x28df88=>{const {statusCode:_0x553f8a,statusCode:_0x2c0d18,headers:_0x594e35,body:_0x42b480}=_0x28df88;_0x1ffb00(null,{'status':_0x553f8a,'statusCode':_0x2c0d18,'headers':_0x594e35,'body':_0x42b480},_0x42b480);},_0x36787a=>_0x1ffb00(_0x36787a));else{if(this[_0x583778(0x20b)]()){this['initGotEnv'](_0x1cad93);const {url:_0x2126a1,..._0x54251d}=_0x1cad93;this['got']['post'](_0x2126a1,_0x54251d)['then'](_0x4efe19=>{const {statusCode:_0x48d7b1,statusCode:_0x56e7ac,headers:_0x4bb157,body:_0x1198fc}=_0x4efe19;_0x1ffb00(null,{'status':_0x48d7b1,'statusCode':_0x56e7ac,'headers':_0x4bb157,'body':_0x1198fc},_0x1198fc);},_0x37f3a3=>{const {message:_0x4d8e44,response:_0x4abb12}=_0x37f3a3;_0x1ffb00(_0x4d8e44,_0x4abb12,_0x4abb12&&_0x4abb12['body']);});}}}}[_0x5380e6(0x1c5)](_0x26df79,_0x397278=null){const _0x3ae21d=_0x5380e6,_0x171117=_0x397278?new Date(_0x397278):new Date();let _0x3a681c={'M+':_0x171117[_0x3ae21d(0x19c)]()+0x1,'d+':_0x171117[_0x3ae21d(0x1a5)](),'H+':_0x171117[_0x3ae21d(0x221)](),'m+':_0x171117[_0x3ae21d(0x20f)](),'s+':_0x171117['getSeconds'](),'q+':Math[_0x3ae21d(0x1de)]((_0x171117[_0x3ae21d(0x19c)]()+0x3)/0x3),'S':_0x171117[_0x3ae21d(0x1c7)]()};/(y+)/['test'](_0x26df79)&&(_0x26df79=_0x26df79['replace'](RegExp['$1'],(_0x171117[_0x3ae21d(0x1b8)]()+'')[_0x3ae21d(0x1e5)](0x4-RegExp['$1'][_0x3ae21d(0x1d6)])));for(let _0x55c123 in _0x3a681c)new RegExp('('+_0x55c123+')')[_0x3ae21d(0x201)](_0x26df79)&&(_0x26df79=_0x26df79['replace'](RegExp['$1'],0x1==RegExp['$1'][_0x3ae21d(0x1d6)]?_0x3a681c[_0x55c123]:('00'+_0x3a681c[_0x55c123])[_0x3ae21d(0x1e5)]((''+_0x3a681c[_0x55c123])[_0x3ae21d(0x1d6)])));return _0x26df79;}[_0x5380e6(0x192)](_0x322640=_0x13c312,_0x28d1f7='',_0x374464='',_0x5b17c5){const _0xc0beac=_0x5380e6,_0x42d012=_0x20a47f=>{const _0x55ea62=_0x2a2f;if(!_0x20a47f)return _0x20a47f;if(_0x55ea62(0x1e7)==typeof _0x20a47f)return this['isLoon']()?_0x20a47f:this[_0x55ea62(0x206)]()?{'open-url':_0x20a47f}:this['isSurge']()?{'url':_0x20a47f}:void 0x0;if(_0x55ea62(0x1ef)==typeof _0x20a47f){if(this[_0x55ea62(0x1db)]()){let _0x303882=_0x20a47f[_0x55ea62(0x17b)]||_0x20a47f[_0x55ea62(0x1c9)]||_0x20a47f[_0x55ea62(0x193)],_0x17dc69=_0x20a47f[_0x55ea62(0x1e1)]||_0x20a47f[_0x55ea62(0x1cf)];return{'openUrl':_0x303882,'mediaUrl':_0x17dc69};}if(this[_0x55ea62(0x206)]()){let _0x5bb846=_0x20a47f[_0x55ea62(0x193)]||_0x20a47f['url']||_0x20a47f[_0x55ea62(0x17b)],_0x2b5d88=_0x20a47f[_0x55ea62(0x1cf)]||_0x20a47f[_0x55ea62(0x1e1)];return{'open-url':_0x5bb846,'media-url':_0x2b5d88};}if(this[_0x55ea62(0x233)]()){let _0x2b7dcc=_0x20a47f['url']||_0x20a47f[_0x55ea62(0x17b)]||_0x20a47f['open-url'];return{'url':_0x2b7dcc};}}};if(this[_0xc0beac(0x21b)]||(this[_0xc0beac(0x233)]()||this[_0xc0beac(0x1db)]()?$notification[_0xc0beac(0x212)](_0x322640,_0x28d1f7,_0x374464,_0x42d012(_0x5b17c5)):this['isQuanX']()&&$notify(_0x322640,_0x28d1f7,_0x374464,_0x42d012(_0x5b17c5))),!this[_0xc0beac(0x1ce)]){let _0x136828=['',_0xc0beac(0x1f7)];_0x136828[_0xc0beac(0x186)](_0x322640),_0x28d1f7&&_0x136828['push'](_0x28d1f7),_0x374464&&_0x136828['push'](_0x374464),console[_0xc0beac(0x1c6)](_0x136828[_0xc0beac(0x17e)]('\x0a')),this['logs']=this['logs'][_0xc0beac(0x1f9)](_0x136828);}}[_0x5380e6(0x1c6)](..._0x43b0bf){const _0x4e4457=_0x5380e6;_0x43b0bf['length']>0x0&&(this[_0x4e4457(0x1f2)]=[...this['logs'],..._0x43b0bf]),console[_0x4e4457(0x1c6)](_0x43b0bf[_0x4e4457(0x17e)](this['logSeparator']));}['logErr'](_0x5edc7f,_0x23c62b){const _0x2d8df8=_0x5380e6,_0x1a62d9=!this[_0x2d8df8(0x233)]()&&!this[_0x2d8df8(0x206)]()&&!this[_0x2d8df8(0x1db)]();_0x1a62d9?this[_0x2d8df8(0x1c6)]('','❗️'+this[_0x2d8df8(0x208)]+_0x2d8df8(0x231),_0x5edc7f[_0x2d8df8(0x195)]):this[_0x2d8df8(0x1c6)]('','❗️'+this[_0x2d8df8(0x208)]+_0x2d8df8(0x231),_0x5edc7f);}[_0x5380e6(0x1dd)](_0x137806){return new Promise(_0x4cfd2d=>setTimeout(_0x4cfd2d,_0x137806));}[_0x5380e6(0x1f3)](_0x2e465e={}){const _0x5a05fb=_0x5380e6,_0x383bcb=new Date()[_0x5a05fb(0x22c)](),_0x2511a7=(_0x383bcb-this[_0x5a05fb(0x185)])/0x3e8;this[_0x5a05fb(0x1c6)]('','🔔'+this[_0x5a05fb(0x208)]+_0x5a05fb(0x1ff)+_0x2511a7+'\x20秒'),this[_0x5a05fb(0x1c6)](),(this[_0x5a05fb(0x233)]()||this[_0x5a05fb(0x206)]()||this[_0x5a05fb(0x1db)]())&&$done(_0x2e465e);}}(_0x13c312,_0x1f2a05);}
