/*
进店领豆,每天可拿四京豆
活动入口：京东APP首页-领京豆-进店领豆
更新时间：2020-11-03
已支持IOS双京东账号,Node.js支持N个京东账号
脚本兼容: QuantumultX, Surge, Loon, JSBox, Node.js
===============Quantumultx===============
[task_local]
#进店领豆
10 0 * * * https://raw.githubusercontent.com/abclouds/jd_scripts/master/js/jd_shop.js, tag=进店领豆, img-url=https://raw.githubusercontent.com/58xinian/icon/master/jd_shop.png, enabled=true
================Loon============
[Script]
cron "10 0 * * *" script-path=https://raw.githubusercontent.com/abclouds/jd_scripts/master/js/jd_shop.js,tag=进店领豆
==============Surge===============
[Script]
进店领豆 = type=cron,cronexp="10 0 * * *",wake-system=1,timeout=3600,script-path=https://raw.githubusercontent.com/abclouds/jd_scripts/master/js/jd_shop.js
*/
const _0x15eb=['GET','nickName','functionId=queryTaskIndex&body=','loaddata','send','status','statusCode','https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2','CookieJD2','isNode','Content-Length','isNeedRewrite','setval','Content-Type','1717103EiUSRU','CookiesJD','stack','keep-alive','parse','toString','&appid=ld','lodash_set','getTime','cookie已失效\x20-\x20','logErr','725ffKGTg','beanCount::','method','766247SNGfQi','test','name','push','substr','GITHUB','existsSync','isLogin','body','@chavy_boxjs_userCfgs.httpapi','resolve','POST','split','\x20已拿到2京豆\x0a','then','getHours','JD_USER_AGENT','\x0a请重新登录获取cookie','\x0a成功领取','taskId','getval','JDUA','gzip,\x20deflate,\x20br','null','reduce','forEach','exec','trim','isArray','请勿随意在BoxJs输入框修改内容\x0a建议通过脚本去获取cookie','setdata','indexOf','\x0a开始【京东账号','zh-cn','wait','进店领豆','match',',\x20开始!','application/json,text/plain,\x20*/*','initGotEnv','Cookie','undefined','taskErrorTips','write','replace','data','cktough','filter','JD_DEBUG','setCookieSync','http','abs','isQuanX','==============📣系统通知📣==============','headers','openUrl','\x20API请求失败，请检查网路重试','getMonth','30093RzvhfT','done','floor','runScript','functionId=takeTask&body=','logs','京东账号','call','redirect','join','object','@chavy_boxjs_userCfgs.httpapi_timeout','post','getMinutes','length','cookie','CookieJar','msg','retcode','log','env','fetch','set-cookie','isMuteLog','1292756Ojjsbj','exit','base','CookieJD','writeFileSync','stringify','writedata','isSurge','lodash_get','map','box.dat','cookieJar','assign','478441rDdQsZ','dataFile','finally','catch','1HXBnGP',',\x20失败!\x20原因:\x20','getdata','get','keys','https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','toObj',',\x20错误!','read','jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1','【提示】请先获取京东账号一cookie\x0a直接使用京东签到获取','isLoon','1YTkIaX','../jdCookie.js','open-url','path','index','taskStatus','1089McfRzK','media-url','opts','ckjar','*/*','startTime','concat','mediaUrl','code','USER_AGENT','https://bean.m.jd.com/bean/signIndex.action','getFullYear','getjson','timeout','api.m.jd.com','2kReGDG','valueForKey','getSeconds','90308MVRHYB','got',',\x20结束!\x20🕛\x20','setjson','url','UserName','/v1/scripting/evaluate','../USER_AGENTS','setValueForKey','string','https://api.m.jd.com/client.action','application/x-www-form-urlencoded','cwd','isMute'];const _0x289deb=_0x5bb8;(function(_0x37129a,_0x5e5855){const _0x39bcf6=_0x5bb8;while(!![]){try{const _0x88f869=-parseInt(_0x39bcf6(0x20f))*parseInt(_0x39bcf6(0x248))+parseInt(_0x39bcf6(0x1d4))*-parseInt(_0x39bcf6(0x21e))+-parseInt(_0x39bcf6(0x1fd))*-parseInt(_0x39bcf6(0x1f9))+parseInt(_0x39bcf6(0x23d))+-parseInt(_0x39bcf6(0x1ec))+parseInt(_0x39bcf6(0x221))+parseInt(_0x39bcf6(0x24b))*parseInt(_0x39bcf6(0x209));if(_0x88f869===_0x5e5855)break;else _0x37129a['push'](_0x37129a['shift']());}catch(_0xbcb07d){_0x37129a['push'](_0x37129a['shift']());}}}(_0x15eb,0xde140));const $=new Env(_0x289deb(0x1bd)),notify=$[_0x289deb(0x238)]()?require('../sendNotify'):'',jdCookieNode=$[_0x289deb(0x238)]()?require(_0x289deb(0x20a)):'';let cookiesArr=[],cookie='';if($[_0x289deb(0x238)]()){Object[_0x289deb(0x201)](jdCookieNode)[_0x289deb(0x1b3)](_0x2cc8ed=>{cookiesArr['push'](jdCookieNode[_0x2cc8ed]);});if(process[_0x289deb(0x1e8)][_0x289deb(0x1ca)]&&process[_0x289deb(0x1e8)][_0x289deb(0x1ca)]==='false')console[_0x289deb(0x1e7)]=()=>{};}else cookiesArr=[$[_0x289deb(0x1ff)](_0x289deb(0x1ef)),$[_0x289deb(0x1ff)](_0x289deb(0x237)),...jsonParse($[_0x289deb(0x1ff)](_0x289deb(0x23e))||'[]')[_0x289deb(0x1f5)](_0x3b01b0=>_0x3b01b0[_0x289deb(0x1e3)])][_0x289deb(0x1c9)](_0x1fbde2=>!!_0x1fbde2);function _0x5bb8(_0x56a47c,_0x9ef8e7){_0x56a47c=_0x56a47c-0x19c;let _0x15eba0=_0x15eb[_0x56a47c];return _0x15eba0;}let message='',subTitle='';const JD_API_HOST=_0x289deb(0x22b);!(async()=>{const _0x348b42=_0x289deb;if(!cookiesArr[0x0]){$[_0x348b42(0x1e5)]($[_0x348b42(0x19c)],_0x348b42(0x207),_0x348b42(0x219),{'open-url':_0x348b42(0x219)});return;}for(let _0x3c0e2a=0x0;_0x3c0e2a<cookiesArr[_0x348b42(0x1e2)];_0x3c0e2a++){if(cookiesArr[_0x3c0e2a]){cookie=cookiesArr[_0x3c0e2a],$[_0x348b42(0x226)]=decodeURIComponent(cookie[_0x348b42(0x1be)](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x348b42(0x1be)](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$['index']=_0x3c0e2a+0x1,$[_0x348b42(0x1a1)]=!![],$[_0x348b42(0x230)]='',await TotalBean(),console[_0x348b42(0x1e7)](_0x348b42(0x1ba)+$[_0x348b42(0x20d)]+'】'+($[_0x348b42(0x230)]||$['UserName'])+'\x0a');if(!$[_0x348b42(0x1a1)]){$['msg']($[_0x348b42(0x19c)],'【提示】cookie已失效',_0x348b42(0x1da)+$[_0x348b42(0x20d)]+'\x20'+($[_0x348b42(0x230)]||$['UserName'])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x348b42(0x219)});$['isNode']()&&await notify['sendNotify']($[_0x348b42(0x19c)]+_0x348b42(0x246)+$['UserName'],_0x348b42(0x1da)+$['index']+'\x20'+$['UserName']+_0x348b42(0x1ab));continue;}message='',subTitle='',await jdShop();}}})()[_0x289deb(0x1fc)](_0x142de4=>{const _0x4c193f=_0x289deb;$[_0x4c193f(0x1e7)]('','❌\x20'+$[_0x4c193f(0x19c)]+_0x4c193f(0x1fe)+_0x142de4+'!','');})[_0x289deb(0x1fb)](()=>{const _0x3f1702=_0x289deb;$[_0x3f1702(0x1d5)]();});async function jdShop(){const _0x57369c=_0x289deb,_0x211727=await getTask();if(_0x211727['code']==='0'){if(!_0x211727[_0x57369c(0x1c7)]['taskList'])console[_0x57369c(0x1e7)](_0x211727[_0x57369c(0x1c7)]['taskErrorTips']+'\x0a'),$['msg']($[_0x57369c(0x19c)],'','京东账号\x20'+$[_0x57369c(0x20d)]+'\x20'+$[_0x57369c(0x230)]+'\x0a'+_0x211727[_0x57369c(0x1c7)][_0x57369c(0x1c4)]);else{const {taskList:_0x3599ed}=_0x211727[_0x57369c(0x1c7)];let _0x72f2=0x0;for(let _0x2d31a5 of _0x3599ed){if(_0x2d31a5[_0x57369c(0x20e)]===0x3)console[_0x57369c(0x1e7)](_0x2d31a5['shopName']+_0x57369c(0x1a7));else{console[_0x57369c(0x1e7)]('taskId::'+_0x2d31a5[_0x57369c(0x1ad)]);const _0x27136b=await doTask(_0x2d31a5['taskId']);_0x27136b[_0x57369c(0x217)]==='0'&&(_0x72f2+=0x2);}}console[_0x57369c(0x1e7)](_0x57369c(0x249)+_0x72f2),_0x72f2>0x0&&$[_0x57369c(0x1e5)]($[_0x57369c(0x19c)],'','京东账号\x20'+$['index']+'\x20'+$['nickName']+_0x57369c(0x1ac)+_0x72f2+'京豆');}}}function doTask(_0x3faadb){return console['log']('doTask-taskId::'+_0x3faadb),new Promise(_0x104fe2=>{const _0x18341d=_0x5bb8,_0xf14661={'taskId':''+_0x3faadb},_0x4db658={'url':''+JD_API_HOST,'body':_0x18341d(0x1d8)+escape(JSON[_0x18341d(0x1f1)](_0xf14661))+_0x18341d(0x243),'headers':{'User-Agent':$['isNode']()?process[_0x18341d(0x1e8)][_0x18341d(0x1aa)]?process[_0x18341d(0x1e8)][_0x18341d(0x1aa)]:require(_0x18341d(0x228))[_0x18341d(0x218)]:$['getdata']('JDUA')?$[_0x18341d(0x1ff)](_0x18341d(0x1af)):_0x18341d(0x206),'Host':_0x18341d(0x21d),'Content-Type':_0x18341d(0x22c),'Cookie':cookie}};$[_0x18341d(0x1e0)](_0x4db658,(_0x357dc9,_0x17c7e3,_0x25140b)=>{const _0x150209=_0x18341d;try{_0x357dc9?(console[_0x150209(0x1e7)]('\x0a进店领豆:\x20API查询请求失败\x20‼️‼️'),$[_0x150209(0x247)](_0x357dc9)):_0x25140b=JSON[_0x150209(0x241)](_0x25140b);}catch(_0xfef0c4){$['logErr'](_0xfef0c4,_0x17c7e3);}finally{_0x104fe2(_0x25140b);}});});}function getTask(_0x41103d={}){return new Promise(_0x2fc744=>{const _0x1674a3=_0x5bb8,_0x182894={'url':''+JD_API_HOST,'body':_0x1674a3(0x231)+escape(JSON[_0x1674a3(0x1f1)](_0x41103d))+_0x1674a3(0x243),'headers':{'User-Agent':$[_0x1674a3(0x238)]()?process[_0x1674a3(0x1e8)]['JD_USER_AGENT']?process[_0x1674a3(0x1e8)]['JD_USER_AGENT']:require(_0x1674a3(0x228))[_0x1674a3(0x218)]:$[_0x1674a3(0x1ff)]('JDUA')?$['getdata'](_0x1674a3(0x1af)):_0x1674a3(0x206),'Host':_0x1674a3(0x21d),'Content-Type':_0x1674a3(0x22c),'Cookie':cookie}};$['post'](_0x182894,(_0x46afd5,_0x36439a,_0xca4154)=>{const _0x339058=_0x1674a3;try{_0x46afd5?(console['log']('\x0a进店领豆:\x20API查询请求失败\x20‼️‼️'),$['logErr'](_0x46afd5)):_0xca4154=JSON['parse'](_0xca4154);}catch(_0x43a9e4){$[_0x339058(0x247)](_0x43a9e4,_0x36439a);}finally{_0x2fc744(_0xca4154);}});});}function TotalBean(){return new Promise(async _0x304415=>{const _0x554bf8=_0x5bb8,_0x35308e={'url':_0x554bf8(0x202),'headers':{'Accept':_0x554bf8(0x1c0),'Content-Type':'application/x-www-form-urlencoded','Accept-Encoding':_0x554bf8(0x1b0),'Accept-Language':_0x554bf8(0x1bb),'Connection':_0x554bf8(0x240),'Cookie':cookie,'Referer':_0x554bf8(0x236),'User-Agent':$['isNode']()?process[_0x554bf8(0x1e8)][_0x554bf8(0x1aa)]?process[_0x554bf8(0x1e8)][_0x554bf8(0x1aa)]:require(_0x554bf8(0x228))[_0x554bf8(0x218)]:$[_0x554bf8(0x1ff)]('JDUA')?$[_0x554bf8(0x1ff)]('JDUA'):'jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1'}};$[_0x554bf8(0x1e0)](_0x35308e,(_0x41b13a,_0x4f4700,_0x2fdbaf)=>{const _0x23b841=_0x554bf8;try{if(_0x41b13a)console[_0x23b841(0x1e7)](''+JSON[_0x23b841(0x1f1)](_0x41b13a)),console['log']($[_0x23b841(0x19c)]+_0x23b841(0x1d2));else{if(_0x2fdbaf){_0x2fdbaf=JSON['parse'](_0x2fdbaf);if(_0x2fdbaf[_0x23b841(0x1e6)]===0xd){$[_0x23b841(0x1a1)]=![];return;}_0x2fdbaf[_0x23b841(0x1e6)]===0x0?$[_0x23b841(0x230)]=_0x2fdbaf[_0x23b841(0x1ee)]&&_0x2fdbaf['base']['nickname']||$['UserName']:$[_0x23b841(0x230)]=$[_0x23b841(0x226)];}else console[_0x23b841(0x1e7)]('京东服务器返回空数据');}}catch(_0x43d152){$[_0x23b841(0x247)](_0x43d152,_0x4f4700);}finally{_0x304415();}});});}function jsonParse(_0x1adbd2){const _0xa408aa=_0x289deb;if(typeof _0x1adbd2==_0xa408aa(0x22a))try{return JSON['parse'](_0x1adbd2);}catch(_0x1300f9){return console['log'](_0x1300f9),$[_0xa408aa(0x1e5)]($[_0xa408aa(0x19c)],'',_0xa408aa(0x1b7)),[];}}function Env(_0x37dedc,_0x2c1ba4){const _0x26a974=_0x289deb;_0x26a974(0x1c3)!=typeof process&&JSON['stringify'](process[_0x26a974(0x1e8)])[_0x26a974(0x1b9)](_0x26a974(0x19f))>-0x1&&process[_0x26a974(0x1ed)](0x0);class _0x47e88f{constructor(_0x3c156f){const _0x326140=_0x26a974;this[_0x326140(0x1e8)]=_0x3c156f;}['send'](_0x39a4dd,_0x3b2583=_0x26a974(0x22f)){const _0x30004e=_0x26a974;_0x39a4dd=_0x30004e(0x22a)==typeof _0x39a4dd?{'url':_0x39a4dd}:_0x39a4dd;let _0x281efc=this[_0x30004e(0x200)];return _0x30004e(0x1a5)===_0x3b2583&&(_0x281efc=this[_0x30004e(0x1e0)]),new Promise((_0xdde88c,_0x461359)=>{const _0x42065b=_0x30004e;_0x281efc[_0x42065b(0x1db)](this,_0x39a4dd,(_0x5947a9,_0x453a50,_0x16a13d)=>{_0x5947a9?_0x461359(_0x5947a9):_0xdde88c(_0x453a50);});});}[_0x26a974(0x200)](_0x535128){const _0x2d1f40=_0x26a974;return this['send'][_0x2d1f40(0x1db)](this[_0x2d1f40(0x1e8)],_0x535128);}[_0x26a974(0x1e0)](_0x591d58){const _0x576572=_0x26a974;return this[_0x576572(0x233)][_0x576572(0x1db)](this[_0x576572(0x1e8)],_0x591d58,_0x576572(0x1a5));}}return new class{constructor(_0x29508e,_0x557fb8){const _0xfd79de=_0x26a974;this['name']=_0x29508e,this[_0xfd79de(0x1cc)]=new _0x47e88f(this),this[_0xfd79de(0x1c7)]=null,this['dataFile']=_0xfd79de(0x1f6),this['logs']=[],this[_0xfd79de(0x22e)]=!0x1,this['isNeedRewrite']=!0x1,this['logSeparator']='\x0a',this[_0xfd79de(0x214)]=new Date()['getTime'](),Object[_0xfd79de(0x1f8)](this,_0x557fb8),this[_0xfd79de(0x1e7)]('','🔔'+this[_0xfd79de(0x19c)]+_0xfd79de(0x1bf));}[_0x26a974(0x238)](){const _0x190f0f=_0x26a974;return _0x190f0f(0x1c3)!=typeof module&&!!module['exports'];}[_0x26a974(0x1ce)](){const _0x1c0c2a=_0x26a974;return _0x1c0c2a(0x1c3)!=typeof $task;}['isSurge'](){const _0x4322a0=_0x26a974;return'undefined'!=typeof $httpClient&&_0x4322a0(0x1c3)==typeof $loon;}['isLoon'](){const _0x152a56=_0x26a974;return _0x152a56(0x1c3)!=typeof $loon;}[_0x26a974(0x203)](_0x173861,_0x50cf57=null){try{return JSON['parse'](_0x173861);}catch{return _0x50cf57;}}['toStr'](_0x3ce9a8,_0x1d2d31=null){const _0x5a2ce0=_0x26a974;try{return JSON[_0x5a2ce0(0x1f1)](_0x3ce9a8);}catch{return _0x1d2d31;}}[_0x26a974(0x21b)](_0x58d371,_0x571502){const _0x23637b=_0x26a974;let _0x12f6f9=_0x571502;const _0x2d3501=this[_0x23637b(0x1ff)](_0x58d371);if(_0x2d3501)try{_0x12f6f9=JSON[_0x23637b(0x241)](this['getdata'](_0x58d371));}catch{}return _0x12f6f9;}[_0x26a974(0x224)](_0x383236,_0x224f72){const _0x4f781c=_0x26a974;try{return this[_0x4f781c(0x1b8)](JSON[_0x4f781c(0x1f1)](_0x383236),_0x224f72);}catch{return!0x1;}}['getScript'](_0x4f5fe6){return new Promise(_0x2967cd=>{const _0x463d46=_0x5bb8;this[_0x463d46(0x200)]({'url':_0x4f5fe6},(_0x2e04a2,_0x5c33be,_0x425c9e)=>_0x2967cd(_0x425c9e));});}[_0x26a974(0x1d7)](_0x4f037e,_0xa6d4b7){const _0x42491d=_0x26a974;return new Promise(_0x2e1e8a=>{const _0x4d1682=_0x5bb8;let _0x37415c=this[_0x4d1682(0x1ff)](_0x4d1682(0x1a3));_0x37415c=_0x37415c?_0x37415c[_0x4d1682(0x1c6)](/\n/g,'')[_0x4d1682(0x1b5)]():_0x37415c;let _0x56e1c7=this[_0x4d1682(0x1ff)](_0x4d1682(0x1df));_0x56e1c7=_0x56e1c7?0x1*_0x56e1c7:0x14,_0x56e1c7=_0xa6d4b7&&_0xa6d4b7[_0x4d1682(0x21c)]?_0xa6d4b7['timeout']:_0x56e1c7;const [_0x2fb59f,_0x2554fe]=_0x37415c[_0x4d1682(0x1a6)]('@'),_0x5c9836={'url':'http://'+_0x2554fe+_0x4d1682(0x227),'body':{'script_text':_0x4f037e,'mock_type':'cron','timeout':_0x56e1c7},'headers':{'X-Key':_0x2fb59f,'Accept':_0x4d1682(0x213)}};this[_0x4d1682(0x1e0)](_0x5c9836,(_0x5b76b1,_0x56c2c5,_0x3f728d)=>_0x2e1e8a(_0x3f728d));})[_0x42491d(0x1fc)](_0x4b4501=>this['logErr'](_0x4b4501));}[_0x26a974(0x232)](){const _0xe6132a=_0x26a974;if(!this['isNode']())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this['path']=this[_0xe6132a(0x20c)]?this['path']:require(_0xe6132a(0x20c));const _0x407f9e=this['path'][_0xe6132a(0x1a4)](this[_0xe6132a(0x1fa)]),_0x309665=this[_0xe6132a(0x20c)][_0xe6132a(0x1a4)](process[_0xe6132a(0x22d)](),this['dataFile']),_0x338634=this['fs']['existsSync'](_0x407f9e),_0x262500=!_0x338634&&this['fs'][_0xe6132a(0x1a0)](_0x309665);if(!_0x338634&&!_0x262500)return{};{const _0x5bbe4e=_0x338634?_0x407f9e:_0x309665;try{return JSON[_0xe6132a(0x241)](this['fs']['readFileSync'](_0x5bbe4e));}catch(_0x4f2802){return{};}}}}[_0x26a974(0x1f2)](){const _0x2aec64=_0x26a974;if(this[_0x2aec64(0x238)]()){this['fs']=this['fs']?this['fs']:require('fs'),this[_0x2aec64(0x20c)]=this['path']?this['path']:require(_0x2aec64(0x20c));const _0x2b7bfb=this['path'][_0x2aec64(0x1a4)](this[_0x2aec64(0x1fa)]),_0x59dcc3=this[_0x2aec64(0x20c)][_0x2aec64(0x1a4)](process[_0x2aec64(0x22d)](),this[_0x2aec64(0x1fa)]),_0x489e4f=this['fs']['existsSync'](_0x2b7bfb),_0xcd2166=!_0x489e4f&&this['fs'][_0x2aec64(0x1a0)](_0x59dcc3),_0x4e9bb=JSON['stringify'](this[_0x2aec64(0x1c7)]);_0x489e4f?this['fs']['writeFileSync'](_0x2b7bfb,_0x4e9bb):_0xcd2166?this['fs'][_0x2aec64(0x1f0)](_0x59dcc3,_0x4e9bb):this['fs'][_0x2aec64(0x1f0)](_0x2b7bfb,_0x4e9bb);}}[_0x26a974(0x1f4)](_0x554519,_0x5bbd5e,_0x3a8585){const _0x30b090=_0x26a974,_0xc1b48=_0x5bbd5e[_0x30b090(0x1c6)](/\[(\d+)\]/g,'.$1')[_0x30b090(0x1a6)]('.');let _0x408bd8=_0x554519;for(const _0x328e1f of _0xc1b48)if(_0x408bd8=Object(_0x408bd8)[_0x328e1f],void 0x0===_0x408bd8)return _0x3a8585;return _0x408bd8;}['lodash_set'](_0x57b5d5,_0x3b8799,_0x54de2f){const _0x5d95fb=_0x26a974;return Object(_0x57b5d5)!==_0x57b5d5?_0x57b5d5:(Array[_0x5d95fb(0x1b6)](_0x3b8799)||(_0x3b8799=_0x3b8799[_0x5d95fb(0x242)]()[_0x5d95fb(0x1be)](/[^.[\]]+/g)||[]),_0x3b8799['slice'](0x0,-0x1)[_0x5d95fb(0x1b2)]((_0x4d8634,_0x4925cb,_0x247b27)=>Object(_0x4d8634[_0x4925cb])===_0x4d8634[_0x4925cb]?_0x4d8634[_0x4925cb]:_0x4d8634[_0x4925cb]=Math[_0x5d95fb(0x1cd)](_0x3b8799[_0x247b27+0x1])>>0x0==+_0x3b8799[_0x247b27+0x1]?[]:{},_0x57b5d5)[_0x3b8799[_0x3b8799['length']-0x1]]=_0x54de2f,_0x57b5d5);}[_0x26a974(0x1ff)](_0x3cabe4){const _0x487746=_0x26a974;let _0x3ce0fb=this[_0x487746(0x1ae)](_0x3cabe4);if(/^@/[_0x487746(0x24c)](_0x3cabe4)){const [,_0x2c4d6a,_0xe1ce69]=/^@(.*?)\.(.*?)$/[_0x487746(0x1b4)](_0x3cabe4),_0x29d25d=_0x2c4d6a?this[_0x487746(0x1ae)](_0x2c4d6a):'';if(_0x29d25d)try{const _0x26ad43=JSON['parse'](_0x29d25d);_0x3ce0fb=_0x26ad43?this[_0x487746(0x1f4)](_0x26ad43,_0xe1ce69,''):_0x3ce0fb;}catch(_0x312ab7){_0x3ce0fb='';}}return _0x3ce0fb;}['setdata'](_0x227c30,_0x599d21){const _0x3e1c47=_0x26a974;let _0x1ef6c9=!0x1;if(/^@/['test'](_0x599d21)){const [,_0x44f67e,_0x2627ff]=/^@(.*?)\.(.*?)$/[_0x3e1c47(0x1b4)](_0x599d21),_0x271f43=this[_0x3e1c47(0x1ae)](_0x44f67e),_0x105375=_0x44f67e?_0x3e1c47(0x1b1)===_0x271f43?null:_0x271f43||'{}':'{}';try{const _0x448f40=JSON[_0x3e1c47(0x241)](_0x105375);this['lodash_set'](_0x448f40,_0x2627ff,_0x227c30),_0x1ef6c9=this['setval'](JSON[_0x3e1c47(0x1f1)](_0x448f40),_0x44f67e);}catch(_0x50ded1){const _0x1fc420={};this[_0x3e1c47(0x244)](_0x1fc420,_0x2627ff,_0x227c30),_0x1ef6c9=this['setval'](JSON[_0x3e1c47(0x1f1)](_0x1fc420),_0x44f67e);}}else _0x1ef6c9=this['setval'](_0x227c30,_0x599d21);return _0x1ef6c9;}['getval'](_0x361a40){const _0x4e7af4=_0x26a974;return this[_0x4e7af4(0x1f3)]()||this[_0x4e7af4(0x208)]()?$persistentStore[_0x4e7af4(0x205)](_0x361a40):this[_0x4e7af4(0x1ce)]()?$prefs[_0x4e7af4(0x21f)](_0x361a40):this[_0x4e7af4(0x238)]()?(this[_0x4e7af4(0x1c7)]=this[_0x4e7af4(0x232)](),this[_0x4e7af4(0x1c7)][_0x361a40]):this[_0x4e7af4(0x1c7)]&&this[_0x4e7af4(0x1c7)][_0x361a40]||null;}[_0x26a974(0x23b)](_0x152455,_0x338d35){const _0x45c7f8=_0x26a974;return this[_0x45c7f8(0x1f3)]()||this[_0x45c7f8(0x208)]()?$persistentStore[_0x45c7f8(0x1c5)](_0x152455,_0x338d35):this[_0x45c7f8(0x1ce)]()?$prefs[_0x45c7f8(0x229)](_0x152455,_0x338d35):this[_0x45c7f8(0x238)]()?(this[_0x45c7f8(0x1c7)]=this['loaddata'](),this[_0x45c7f8(0x1c7)][_0x338d35]=_0x152455,this['writedata'](),!0x0):this[_0x45c7f8(0x1c7)]&&this['data'][_0x338d35]||null;}[_0x26a974(0x1c1)](_0x12f4a7){const _0x1a6bdd=_0x26a974;this[_0x1a6bdd(0x222)]=this[_0x1a6bdd(0x222)]?this[_0x1a6bdd(0x222)]:require(_0x1a6bdd(0x222)),this[_0x1a6bdd(0x1c8)]=this[_0x1a6bdd(0x1c8)]?this[_0x1a6bdd(0x1c8)]:require('tough-cookie'),this['ckjar']=this[_0x1a6bdd(0x212)]?this[_0x1a6bdd(0x212)]:new this[(_0x1a6bdd(0x1c8))][(_0x1a6bdd(0x1e4))](),_0x12f4a7&&(_0x12f4a7[_0x1a6bdd(0x1d0)]=_0x12f4a7['headers']?_0x12f4a7[_0x1a6bdd(0x1d0)]:{},void 0x0===_0x12f4a7[_0x1a6bdd(0x1d0)][_0x1a6bdd(0x1c2)]&&void 0x0===_0x12f4a7['cookieJar']&&(_0x12f4a7[_0x1a6bdd(0x1f7)]=this[_0x1a6bdd(0x212)]));}['get'](_0x16bd89,_0x12f9ef=()=>{}){const _0x51cc53=_0x26a974;_0x16bd89[_0x51cc53(0x1d0)]&&(delete _0x16bd89[_0x51cc53(0x1d0)][_0x51cc53(0x23c)],delete _0x16bd89['headers'][_0x51cc53(0x239)]),this[_0x51cc53(0x1f3)]()||this[_0x51cc53(0x208)]()?(this[_0x51cc53(0x1f3)]()&&this[_0x51cc53(0x23a)]&&(_0x16bd89[_0x51cc53(0x1d0)]=_0x16bd89[_0x51cc53(0x1d0)]||{},Object['assign'](_0x16bd89['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x51cc53(0x200)](_0x16bd89,(_0x56d436,_0x49433e,_0x16cff4)=>{const _0x17e8aa=_0x51cc53;!_0x56d436&&_0x49433e&&(_0x49433e[_0x17e8aa(0x1a2)]=_0x16cff4,_0x49433e[_0x17e8aa(0x235)]=_0x49433e['status']),_0x12f9ef(_0x56d436,_0x49433e,_0x16cff4);})):this[_0x51cc53(0x1ce)]()?(this['isNeedRewrite']&&(_0x16bd89[_0x51cc53(0x211)]=_0x16bd89[_0x51cc53(0x211)]||{},Object[_0x51cc53(0x1f8)](_0x16bd89[_0x51cc53(0x211)],{'hints':!0x1})),$task[_0x51cc53(0x1e9)](_0x16bd89)['then'](_0x18c6f6=>{const {statusCode:_0x3dc874,statusCode:_0x1c7778,headers:_0x18514a,body:_0x353dd3}=_0x18c6f6;_0x12f9ef(null,{'status':_0x3dc874,'statusCode':_0x1c7778,'headers':_0x18514a,'body':_0x353dd3},_0x353dd3);},_0x1cfa82=>_0x12f9ef(_0x1cfa82))):this[_0x51cc53(0x238)]()&&(this[_0x51cc53(0x1c1)](_0x16bd89),this[_0x51cc53(0x222)](_0x16bd89)['on'](_0x51cc53(0x1dc),(_0x5d1ae8,_0x4e3031)=>{const _0xd72929=_0x51cc53;try{if(_0x5d1ae8[_0xd72929(0x1d0)][_0xd72929(0x1ea)]){const _0x64c8a1=_0x5d1ae8[_0xd72929(0x1d0)]['set-cookie'][_0xd72929(0x1f5)](this[_0xd72929(0x1c8)][_0xd72929(0x1c2)][_0xd72929(0x241)])[_0xd72929(0x242)]();_0x64c8a1&&this[_0xd72929(0x212)][_0xd72929(0x1cb)](_0x64c8a1,null),_0x4e3031[_0xd72929(0x1f7)]=this[_0xd72929(0x212)];}}catch(_0x57a224){this[_0xd72929(0x247)](_0x57a224);}})[_0x51cc53(0x1a8)](_0x6d00eb=>{const {statusCode:_0x759b2f,statusCode:_0x5ae8d,headers:_0x39c2f1,body:_0x28010d}=_0x6d00eb;_0x12f9ef(null,{'status':_0x759b2f,'statusCode':_0x5ae8d,'headers':_0x39c2f1,'body':_0x28010d},_0x28010d);},_0x5d7bb1=>{const _0x1c26f9=_0x51cc53,{message:_0x7805ed,response:_0xa7977b}=_0x5d7bb1;_0x12f9ef(_0x7805ed,_0xa7977b,_0xa7977b&&_0xa7977b[_0x1c26f9(0x1a2)]);}));}[_0x26a974(0x1e0)](_0x585882,_0x3cce1f=()=>{}){const _0x4cf925=_0x26a974;if(_0x585882[_0x4cf925(0x1a2)]&&_0x585882[_0x4cf925(0x1d0)]&&!_0x585882[_0x4cf925(0x1d0)][_0x4cf925(0x23c)]&&(_0x585882[_0x4cf925(0x1d0)][_0x4cf925(0x23c)]=_0x4cf925(0x22c)),_0x585882['headers']&&delete _0x585882[_0x4cf925(0x1d0)][_0x4cf925(0x239)],this['isSurge']()||this[_0x4cf925(0x208)]())this[_0x4cf925(0x1f3)]()&&this[_0x4cf925(0x23a)]&&(_0x585882['headers']=_0x585882[_0x4cf925(0x1d0)]||{},Object['assign'](_0x585882[_0x4cf925(0x1d0)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x4cf925(0x1e0)](_0x585882,(_0x5ebd8a,_0x176cb3,_0x1d99a2)=>{const _0x41f8a5=_0x4cf925;!_0x5ebd8a&&_0x176cb3&&(_0x176cb3[_0x41f8a5(0x1a2)]=_0x1d99a2,_0x176cb3[_0x41f8a5(0x235)]=_0x176cb3[_0x41f8a5(0x234)]),_0x3cce1f(_0x5ebd8a,_0x176cb3,_0x1d99a2);});else{if(this[_0x4cf925(0x1ce)]())_0x585882[_0x4cf925(0x24a)]=_0x4cf925(0x1a5),this[_0x4cf925(0x23a)]&&(_0x585882[_0x4cf925(0x211)]=_0x585882[_0x4cf925(0x211)]||{},Object[_0x4cf925(0x1f8)](_0x585882[_0x4cf925(0x211)],{'hints':!0x1})),$task[_0x4cf925(0x1e9)](_0x585882)[_0x4cf925(0x1a8)](_0x406f05=>{const {statusCode:_0x398dff,statusCode:_0x490b23,headers:_0x1de130,body:_0x51d493}=_0x406f05;_0x3cce1f(null,{'status':_0x398dff,'statusCode':_0x490b23,'headers':_0x1de130,'body':_0x51d493},_0x51d493);},_0x2efc87=>_0x3cce1f(_0x2efc87));else{if(this[_0x4cf925(0x238)]()){this[_0x4cf925(0x1c1)](_0x585882);const {url:_0x3f43f0,..._0x77ea3c}=_0x585882;this[_0x4cf925(0x222)][_0x4cf925(0x1e0)](_0x3f43f0,_0x77ea3c)['then'](_0x3e004f=>{const {statusCode:_0xaf557b,statusCode:_0x5524d1,headers:_0x4bddb7,body:_0x20bbe3}=_0x3e004f;_0x3cce1f(null,{'status':_0xaf557b,'statusCode':_0x5524d1,'headers':_0x4bddb7,'body':_0x20bbe3},_0x20bbe3);},_0x506550=>{const _0x35fe00=_0x4cf925,{message:_0x52256b,response:_0x5f065b}=_0x506550;_0x3cce1f(_0x52256b,_0x5f065b,_0x5f065b&&_0x5f065b[_0x35fe00(0x1a2)]);});}}}}['time'](_0x23d9bf,_0x32498b=null){const _0x52e902=_0x26a974,_0x5923e7=_0x32498b?new Date(_0x32498b):new Date();let _0x1cd76c={'M+':_0x5923e7[_0x52e902(0x1d3)]()+0x1,'d+':_0x5923e7['getDate'](),'H+':_0x5923e7[_0x52e902(0x1a9)](),'m+':_0x5923e7[_0x52e902(0x1e1)](),'s+':_0x5923e7[_0x52e902(0x220)](),'q+':Math[_0x52e902(0x1d6)]((_0x5923e7[_0x52e902(0x1d3)]()+0x3)/0x3),'S':_0x5923e7['getMilliseconds']()};/(y+)/[_0x52e902(0x24c)](_0x23d9bf)&&(_0x23d9bf=_0x23d9bf['replace'](RegExp['$1'],(_0x5923e7[_0x52e902(0x21a)]()+'')[_0x52e902(0x19e)](0x4-RegExp['$1'][_0x52e902(0x1e2)])));for(let _0x57c201 in _0x1cd76c)new RegExp('('+_0x57c201+')')['test'](_0x23d9bf)&&(_0x23d9bf=_0x23d9bf[_0x52e902(0x1c6)](RegExp['$1'],0x1==RegExp['$1'][_0x52e902(0x1e2)]?_0x1cd76c[_0x57c201]:('00'+_0x1cd76c[_0x57c201])[_0x52e902(0x19e)]((''+_0x1cd76c[_0x57c201])[_0x52e902(0x1e2)])));return _0x23d9bf;}[_0x26a974(0x1e5)](_0x563d39=_0x37dedc,_0x5805be='',_0x50b3a9='',_0x1d0d31){const _0x4af919=_0x26a974,_0x14930a=_0x9bbc74=>{const _0x9b92a1=_0x5bb8;if(!_0x9bbc74)return _0x9bbc74;if('string'==typeof _0x9bbc74)return this[_0x9b92a1(0x208)]()?_0x9bbc74:this[_0x9b92a1(0x1ce)]()?{'open-url':_0x9bbc74}:this[_0x9b92a1(0x1f3)]()?{'url':_0x9bbc74}:void 0x0;if(_0x9b92a1(0x1de)==typeof _0x9bbc74){if(this['isLoon']()){let _0x39f719=_0x9bbc74[_0x9b92a1(0x1d1)]||_0x9bbc74[_0x9b92a1(0x225)]||_0x9bbc74['open-url'],_0x11c510=_0x9bbc74[_0x9b92a1(0x216)]||_0x9bbc74[_0x9b92a1(0x210)];return{'openUrl':_0x39f719,'mediaUrl':_0x11c510};}if(this[_0x9b92a1(0x1ce)]()){let _0x5d963d=_0x9bbc74[_0x9b92a1(0x20b)]||_0x9bbc74[_0x9b92a1(0x225)]||_0x9bbc74[_0x9b92a1(0x1d1)],_0x1192d4=_0x9bbc74['media-url']||_0x9bbc74[_0x9b92a1(0x216)];return{'open-url':_0x5d963d,'media-url':_0x1192d4};}if(this[_0x9b92a1(0x1f3)]()){let _0xf1fdb0=_0x9bbc74['url']||_0x9bbc74['openUrl']||_0x9bbc74[_0x9b92a1(0x20b)];return{'url':_0xf1fdb0};}}};if(this[_0x4af919(0x22e)]||(this[_0x4af919(0x1f3)]()||this['isLoon']()?$notification['post'](_0x563d39,_0x5805be,_0x50b3a9,_0x14930a(_0x1d0d31)):this['isQuanX']()&&$notify(_0x563d39,_0x5805be,_0x50b3a9,_0x14930a(_0x1d0d31))),!this[_0x4af919(0x1eb)]){let _0x37ab94=['',_0x4af919(0x1cf)];_0x37ab94['push'](_0x563d39),_0x5805be&&_0x37ab94['push'](_0x5805be),_0x50b3a9&&_0x37ab94[_0x4af919(0x19d)](_0x50b3a9),console['log'](_0x37ab94[_0x4af919(0x1dd)]('\x0a')),this[_0x4af919(0x1d9)]=this['logs'][_0x4af919(0x215)](_0x37ab94);}}[_0x26a974(0x1e7)](..._0x5ded92){const _0x5d53a6=_0x26a974;_0x5ded92['length']>0x0&&(this[_0x5d53a6(0x1d9)]=[...this[_0x5d53a6(0x1d9)],..._0x5ded92]),console[_0x5d53a6(0x1e7)](_0x5ded92[_0x5d53a6(0x1dd)](this['logSeparator']));}[_0x26a974(0x247)](_0x3fe40c,_0x11bc82){const _0xe0832e=_0x26a974,_0x4df7fd=!this[_0xe0832e(0x1f3)]()&&!this[_0xe0832e(0x1ce)]()&&!this['isLoon']();_0x4df7fd?this['log']('','❗️'+this[_0xe0832e(0x19c)]+_0xe0832e(0x204),_0x3fe40c[_0xe0832e(0x23f)]):this[_0xe0832e(0x1e7)]('','❗️'+this['name']+',\x20错误!',_0x3fe40c);}[_0x26a974(0x1bc)](_0x1dc7ce){return new Promise(_0x73d34a=>setTimeout(_0x73d34a,_0x1dc7ce));}['done'](_0x215ada={}){const _0x43c7c4=_0x26a974,_0x499e4c=new Date()[_0x43c7c4(0x245)](),_0x55568c=(_0x499e4c-this['startTime'])/0x3e8;this[_0x43c7c4(0x1e7)]('','🔔'+this[_0x43c7c4(0x19c)]+_0x43c7c4(0x223)+_0x55568c+'\x20秒'),this[_0x43c7c4(0x1e7)](),(this[_0x43c7c4(0x1f3)]()||this['isQuanX']()||this['isLoon']())&&$done(_0x215ada);}}(_0x37dedc,_0x2c1ba4);}
